{"ast":null,"code":"import jsPDF from \"jspdf\";\nimport * as htmlToImage from \"html-to-image\";\nexport async function exportCrimeDataToPdf() {\n  const doc = new jsPDF(\"p\", \"px\");\n  const pageWidth = doc.internal.pageSize.getWidth();\n  const pageHeight = doc.internal.pageSize.getHeight();\n  const padding = 10; // Adjust padding as needed\n\n  const graphWidth = pageWidth - 10 * padding; // Four graphs in a row\n\n  const graphHeight = (pageHeight - 6 * padding) / 4; // Set the desired height for each graph\n\n  const elements = document.getElementsByClassName(\"custom-chart\");\n\n  for (let i = 0; i < elements.length; i) {\n    // doc.addPage(); // Add a new page for every four graphs\n    for (let j = 0; j < 4 && j + i < elements.length; j++, i++) {\n      const el = elements[i];\n      const imgData = await htmlToImage.toPng(el);\n      const x = 5 * padding;\n      const y = j * (graphHeight + padding) + padding;\n      doc.addImage(imgData, \"PNG\", x, y, graphWidth, graphHeight);\n    }\n\n    if (i < elements.length) doc.addPage();\n  }\n\n  doc.save(\"crime_data.pdf\");\n}","map":{"version":3,"sources":["/Users/gaurav/Downloads/aaaaaa/src/utils.ts"],"names":["jsPDF","htmlToImage","exportCrimeDataToPdf","doc","pageWidth","internal","pageSize","getWidth","pageHeight","getHeight","padding","graphWidth","graphHeight","elements","document","getElementsByClassName","i","length","j","el","imgData","toPng","x","y","addImage","addPage","save"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAO,KAAKC,WAAZ,MAA6B,eAA7B;AAEA,OAAO,eAAeC,oBAAf,GAAsC;AAC3C,QAAMC,GAAG,GAAG,IAAIH,KAAJ,CAAU,GAAV,EAAe,IAAf,CAAZ;AACA,QAAMI,SAAS,GAAGD,GAAG,CAACE,QAAJ,CAAaC,QAAb,CAAsBC,QAAtB,EAAlB;AACA,QAAMC,UAAU,GAAGL,GAAG,CAACE,QAAJ,CAAaC,QAAb,CAAsBG,SAAtB,EAAnB;AACA,QAAMC,OAAO,GAAG,EAAhB,CAJ2C,CAIvB;;AACpB,QAAMC,UAAU,GAAIP,SAAS,GAAG,KAAKM,OAArC,CAL2C,CAKI;;AAC/C,QAAME,WAAW,GAAG,CAACJ,UAAU,GAAC,IAAEE,OAAd,IAAuB,CAA3C,CAN2C,CAMG;;AAE9C,QAAMG,QAAQ,GAAGC,QAAQ,CAACC,sBAAT,CAAgC,cAAhC,CAAjB;;AAGA,OAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGH,QAAQ,CAACI,MAA7B,EAAqCD,CAArC,EAAwC;AACpC;AAEF,SAAI,IAAIE,CAAC,GAAC,CAAV,EAAaA,CAAC,GAAC,CAAF,IAAOA,CAAC,GAACF,CAAF,GAAIH,QAAQ,CAACI,MAAjC,EAA0CC,CAAC,IAAIF,CAAC,EAAhD,EAAmD;AACjD,YAAMG,EAAE,GAAGN,QAAQ,CAACG,CAAD,CAAnB;AACA,YAAMI,OAAO,GAAG,MAAMnB,WAAW,CAACoB,KAAZ,CAAkBF,EAAlB,CAAtB;AAEA,YAAMG,CAAC,GAAG,IAAEZ,OAAZ;AACA,YAAMa,CAAC,GAAGL,CAAC,IAAIN,WAAW,GAAGF,OAAlB,CAAD,GAA8BA,OAAxC;AAEAP,MAAAA,GAAG,CAACqB,QAAJ,CAAaJ,OAAb,EAAsB,KAAtB,EAA6BE,CAA7B,EAAgCC,CAAhC,EAAmCZ,UAAnC,EAA+CC,WAA/C;AACD;;AAED,QAAGI,CAAC,GAACH,QAAQ,CAACI,MAAd,EACEd,GAAG,CAACsB,OAAJ;AACH;;AAEDtB,EAAAA,GAAG,CAACuB,IAAJ,CAAS,gBAAT;AACD","sourcesContent":["import jsPDF from \"jspdf\";\nimport * as htmlToImage from \"html-to-image\";\n\nexport async function exportCrimeDataToPdf() {\n  const doc = new jsPDF(\"p\", \"px\");\n  const pageWidth = doc.internal.pageSize.getWidth();\n  const pageHeight = doc.internal.pageSize.getHeight();\n  const padding = 10; // Adjust padding as needed\n  const graphWidth = (pageWidth - 10 * padding); // Four graphs in a row\n  const graphHeight = (pageHeight-6*padding)/4; // Set the desired height for each graph\n\n  const elements = document.getElementsByClassName(\"custom-chart\");\n  \n\n  for (let i = 0; i < elements.length; i) {\n      // doc.addPage(); // Add a new page for every four graphs\n\n    for(let j=0; j<4 && j+i<elements.length ; j++, i++){\n      const el = elements[i] as HTMLElement;\n      const imgData = await htmlToImage.toPng(el);\n\n      const x = 5*padding;\n      const y = j * (graphHeight + padding) + padding;\n\n      doc.addImage(imgData, \"PNG\", x, y, graphWidth, graphHeight);\n    }\n\n    if(i<elements.length)\n      doc.addPage();\n  }\n\n  doc.save(\"crime_data.pdf\");\n}\n"]},"metadata":{},"sourceType":"module"}